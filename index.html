<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burger Station - Smash & Grill</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            DEFAULT: '#D97706', // Primary from Brief
                            dark: '#B45309',
                            light: '#FBBF24'
                        },
                        secondary: '#1F2937' // Secondary from Brief
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'slide-in': 'slideIn 0.3s ease-out forwards',
                        'fade-in': 'fadeIn 0.2s ease-out forwards'
                    },
                    keyframes: {
                        slideIn: {
                            '0%': { transform: 'translateX(100%)' },
                            '100%': { transform: 'translateX(0)' }
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'scale(0.95)' },
                            '100%': { opacity: '1', transform: 'scale(1)' }
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- React & ReactDOM (UMD) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone (for JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* Custom Utilities */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .scroll-snap-x { scroll-snap-type: x mandatory; }
        .scroll-snap-center { scroll-snap-align: center; }
        .text-shadow { text-shadow: 2px 2px 4px rgba(0,0,0,0.7); }
        
        body {
            background-color: #f3f4f6;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { ShoppingCart, Phone, Star, Plus, Minus, X, MapPin, Clock, Trash2, Edit3, CheckCircle2 } = lucide;

        // --- CONFIGURA√á√ÉO DO NEG√ìCIO ---
        const BUSINESS = {
            name: "Burger Station",
            subname: "Smash & Grill",
            slogan: "Sabor que acelera",
            whatsapp: "5592998877665",
            niche: "Hamburgueria",
            colors: {
                primary: "#D97706",
                secondary: "#1F2937"
            },
            hours: {
                open: "18:00",
                close: "23:45"
            },
            heroImage: "fachada-burger.png",
            socialProof: {
                video: "video1.mp4",
                photo: "cliente.png"
            }
        };

        const MENU = [
            {
                id: "smash-classic",
                category: "Destaques",
                name: "Smash Classic",
                price: 22.90,
                desc: "Carne 100g, queijo cheddar, cebola caramelizada, p√£o brioche",
                image: "smashclassic.png"
            },
            {
                id: "double-grill",
                category: "Destaques",
                name: "Double Grill",
                price: 29.90,
                desc: "Duas carnes 100g, cheddar duplo, bacon crocante, molho da casa",
                image: "doublegrill.png"
            },
            {
                id: "refri-lata",
                category: "Bebidas",
                name: "Refrigerante Lata",
                price: 6.00,
                desc: "Coca-cola, Guaran√° ou Fanta (350ml)",
                image: "refri.png"
            },
            {
                id: "milkshake-choco",
                category: "Bebidas",
                name: "Milkshake Chocolate",
                price: 14.90,
                desc: "Sorvete de chocolate 50% cacau, chantilly e calda",
                image: "milkshakechoco.png"
            }
        ];

        // Adicionais Gen√©ricos para Exemplo
        const EXTRAS_OPTIONS = [
            { id: 'bacon', name: 'Bacon Extra', price: 3.00 },
            { id: 'cheese', name: 'Queijo Extra', price: 2.00 },
            { id: 'sauce', name: 'Molho Especial', price: 1.50 }
        ];

        // --- COMPONENTES PRINCIPAIS ---

        const App = () => {
            // Estado do Carrinho (Array para permitir itens iguais com obs diferentes)
            const [cart, setCart] = useState([]); 
            const [isCartOpen, setIsCartOpen] = useState(false);
            const [isOpen, setIsOpen] = useState(false); // Loja aberta/fechada
            const [address, setAddress] = useState(''); // Endere√ßo de entrega
            
            // Estado do Modal de Produto
            const [activeProduct, setActiveProduct] = useState(null); // Produto sendo editado
            const [modalQty, setModalQty] = useState(1);
            const [modalObs, setModalObs] = useState('');
            const [modalExtras, setModalExtras] = useState([]); // Array de IDs

            // Hook para verificar hor√°rio de funcionamento
            useEffect(() => {
                const checkStatus = () => {
                    const now = new Date();
                    const currentMinutes = now.getHours() * 60 + now.getMinutes();
                    
                    const [openH, openM] = BUSINESS.hours.open.split(':').map(Number);
                    const [closeH, closeM] = BUSINESS.hours.close.split(':').map(Number);
                    
                    const startMinutes = openH * 60 + openM;
                    const endMinutes = closeH * 60 + closeM;

                    // L√≥gica simples para o mesmo dia
                    const isBusinessOpen = currentMinutes >= startMinutes && currentMinutes < endMinutes;
                    setIsOpen(isBusinessOpen);
                };

                checkStatus();
                const timer = setInterval(checkStatus, 60000); 
                return () => clearInterval(timer);
            }, []);

            // Atualiza √≠cones quando o DOM muda
            useEffect(() => {
                lucide.createIcons();
            });

            // --- L√ìGICA DO MODAL ---
            
            const openProductModal = (product) => {
                if (!isOpen) return; // Bloqueia se fechado
                setActiveProduct(product);
                setModalQty(1);
                setModalObs('');
                setModalExtras([]);
            };

            const closeProductModal = () => {
                setActiveProduct(null);
            };

            const toggleExtra = (extraId) => {
                setModalExtras(prev => 
                    prev.includes(extraId) 
                        ? prev.filter(id => id !== extraId) 
                        : [...prev, extraId]
                );
            };

            const confirmAddToOrder = () => {
                if (!activeProduct) return;

                const selectedExtrasObjs = EXTRAS_OPTIONS.filter(e => modalExtras.includes(e.id));
                const extrasTotal = selectedExtrasObjs.reduce((acc, curr) => acc + curr.price, 0);
                const unitPrice = activeProduct.price + extrasTotal;

                const newItem = {
                    cartId: Date.now() + Math.random(), // ID √∫nico para o item no carrinho
                    product: activeProduct,
                    qty: modalQty,
                    obs: modalObs,
                    extras: selectedExtrasObjs,
                    unitPrice: unitPrice,
                    totalPrice: unitPrice * modalQty
                };

                setCart(prev => [...prev, newItem]);
                
                // Feedback e Fechar
                if (navigator.vibrate) navigator.vibrate(50);
                closeProductModal();
                setIsCartOpen(true); // Opcional: abre o carrinho automaticamente
            };

            // --- L√ìGICA DO CARRINHO ---

            const removeFromCart = (cartId) => {
                setCart(prev => prev.filter(item => item.cartId !== cartId));
            };

            // Totais
            const totalItems = cart.reduce((acc, item) => acc + item.qty, 0);
            const subTotal = cart.reduce((acc, item) => acc + item.totalPrice, 0);

            // Checkout WhatsApp
            const handleCheckout = () => {
                if (cart.length === 0) return;
                
                if (!address.trim()) {
                    alert("Por favor, preencha o endere√ßo de entrega!");
                    return;
                }

                let message = `*Ol√°, ${BUSINESS.name}! Gostaria de fazer um pedido:*\n\n`;
                
                cart.forEach(item => {
                    message += `*${item.qty}x ${item.product.name}*\n`;
                    
                    // Listar Extras
                    if (item.extras.length > 0) {
                        item.extras.forEach(ext => {
                            message += `  + ${ext.name}\n`;
                        });
                    }
                    
                    // Observa√ß√£o
                    if (item.obs) {
                        message += `  _Obs: ${item.obs}_\n`;
                    }
                    
                    message += `  Valor: R$ ${item.totalPrice.toFixed(2)}\n\n`;
                });

                message += `*Total Geral: R$ ${subTotal.toFixed(2)}*\n\n`;
                message += `üìç *Endere√ßo de entrega:*\n${address}\n\n`;
                message += `Aguardo confirma√ß√£o!`;

                const link = `https://wa.me/${BUSINESS.whatsapp}?text=${encodeURIComponent(message)}`;
                window.open(link, '_blank');
            };

            const handleImageError = (e) => {
                e.target.src = `https://picsum.photos/400/300?random=${Math.random()}`;
                e.target.onerror = null;
            };

            // C√°lculo de Pre√ßo no Modal
            const currentModalPrice = activeProduct 
                ? (activeProduct.price + EXTRAS_OPTIONS.filter(e => modalExtras.includes(e.id)).reduce((a,b)=>a+b.price,0)) * modalQty
                : 0;

            return (
                <div className="pb-32 font-sans text-gray-800">
                    
                    {/* --- NAVBAR FIXA --- */}
                    <nav className="fixed top-0 inset-x-0 z-40 bg-secondary text-white shadow-xl h-16 flex items-center justify-between px-4"
                         style={{ backgroundColor: BUSINESS.colors.secondary }}>
                        <div className="flex items-center gap-2 bg-black/20 py-1 px-3 rounded-full">
                            <div className={`w-3 h-3 rounded-full shadow-lg ${isOpen ? 'bg-green-500 animate-pulse' : 'bg-red-500'}`}></div>
                            <span className="text-xs font-bold tracking-wider">
                                {isOpen ? `${BUSINESS.niche.toUpperCase()} ABERTA` : 'FECHADO AGORA'}
                            </span>
                        </div>
                        
                        <button onClick={() => setIsCartOpen(true)} className="relative p-2 active:scale-95 transition-transform">
                            <i data-lucide="shopping-cart" className="w-6 h-6 text-white"></i>
                            {totalItems > 0 && (
                                <span className="absolute top-1 right-0 bg-brand text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-secondary animate-bounce"
                                      style={{ backgroundColor: BUSINESS.colors.primary, borderColor: BUSINESS.colors.secondary }}>
                                    {totalItems}
                                </span>
                            )}
                        </button>
                    </nav>

                    {/* --- HERO SECTION --- */}
                    <header className="relative mt-16 h-72 md:h-96 w-full overflow-hidden">
                        <img 
                            src={BUSINESS.heroImage} 
                            onError={handleImageError}
                            className="w-full h-full object-cover brightness-[0.4]"
                            alt="Fachada"
                        />
                        <div className="absolute inset-0 flex flex-col items-center justify-center text-center px-4">
                            <h1 className="text-4xl md:text-6xl font-extrabold text-white text-shadow tracking-tight mb-2">
                                {BUSINESS.name}
                            </h1>
                            <h2 className="text-xl md:text-3xl text-brand font-light mb-4" style={{ color: BUSINESS.colors.primary }}>
                                {BUSINESS.subname}
                            </h2>
                            <span className="bg-white/10 backdrop-blur-md text-white px-4 py-1 rounded-full text-sm font-medium border border-white/20">
                                {BUSINESS.slogan}
                            </span>
                            <div className="mt-4 flex items-center gap-2 text-gray-300 text-xs md:text-sm bg-black/60 px-3 py-1 rounded">
                                <i data-lucide="clock" className="w-3 h-3"></i>
                                {BUSINESS.hours.open} √†s {BUSINESS.hours.close} ‚Ä¢ Todos os dias
                            </div>
                        </div>
                    </header>

                    {/* --- MENU (CARROSSEL HORIZONTAL) --- */}
                    <main className="max-w-4xl mx-auto px-4 py-8 space-y-10">
                        
                        {/* Categoria: Destaques */}
                        <section>
                            <h3 className="text-2xl font-bold mb-4 flex items-center gap-2 text-secondary">
                                <span className="w-2 h-8 rounded-full" style={{ backgroundColor: BUSINESS.colors.primary }}></span>
                                üî• Destaques
                            </h3>
                            
                            <div className="flex overflow-x-auto gap-4 pb-6 px-1 -mx-4 md:mx-0 px-4 md:px-0 no-scrollbar scroll-snap-x">
                                {MENU.filter(p => p.category === 'Destaques').map(product => (
                                    <div key={product.id} className="min-w-[85vw] md:min-w-[320px] bg-white rounded-2xl shadow-lg overflow-hidden scroll-snap-center flex flex-col border border-gray-100 group">
                                        <div className="h-48 overflow-hidden relative">
                                            <img 
                                                src={product.image} 
                                                onError={handleImageError}
                                                className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                                                alt={product.name}
                                            />
                                            {!isOpen && (
                                                <div className="absolute inset-0 bg-black/60 flex items-center justify-center">
                                                    <span className="text-white font-bold border border-white px-3 py-1 rounded uppercase text-sm">Fechado</span>
                                                </div>
                                            )}
                                        </div>
                                        <div className="p-5 flex-1 flex flex-col justify-between">
                                            <div>
                                                <div className="flex justify-between items-start mb-2">
                                                    <h4 className="font-bold text-lg leading-tight text-gray-900">{product.name}</h4>
                                                    <span className="font-bold text-lg whitespace-nowrap" style={{ color: BUSINESS.colors.primary }}>
                                                        R$ {product.price.toFixed(2)}
                                                    </span>
                                                </div>
                                                <p className="text-gray-500 text-sm leading-relaxed mb-4">{product.desc}</p>
                                            </div>
                                            <button 
                                                onClick={() => openProductModal(product)}
                                                disabled={!isOpen}
                                                className={`w-full py-3 rounded-xl font-bold text-white shadow transition-all active:scale-95 flex justify-center items-center gap-2
                                                    ${isOpen ? 'hover:brightness-110' : 'cursor-not-allowed opacity-50'}`}
                                                style={{ backgroundColor: isOpen ? BUSINESS.colors.primary : '#9ca3af' }}
                                            >
                                                {isOpen ? <><i data-lucide="plus" className="w-4 h-4"></i> Montar Pedido</> : 'Indispon√≠vel'}
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </section>

                        {/* Categoria: Bebidas */}
                        <section>
                            <h3 className="text-2xl font-bold mb-4 flex items-center gap-2 text-secondary">
                                <span className="w-2 h-8 rounded-full" style={{ backgroundColor: BUSINESS.colors.primary }}></span>
                                ü•§ Bebidas
                            </h3>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                {MENU.filter(p => p.category === 'Bebidas').map(product => (
                                    <div key={product.id} 
                                         onClick={() => isOpen && openProductModal(product)}
                                         className={`bg-white p-4 rounded-xl shadow-md flex items-center gap-4 border border-gray-100 transition active:scale-[0.98] ${isOpen ? 'cursor-pointer hover:shadow-lg' : 'opacity-70 grayscale'}`}>
                                        <div className="w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 relative">
                                            <img 
                                                src={product.image} 
                                                onError={handleImageError}
                                                className="w-full h-full object-cover"
                                                alt={product.name}
                                            />
                                        </div>
                                        <div className="flex-1">
                                            <h4 className="font-bold text-gray-900">{product.name}</h4>
                                            <p className="text-xs text-gray-500 mb-2">{product.desc || 'Refrescante e gelado.'}</p>
                                            <div className="flex justify-between items-center">
                                                <span className="font-bold" style={{ color: BUSINESS.colors.primary }}>
                                                    R$ {product.price.toFixed(2)}
                                                </span>
                                                <div className={`w-8 h-8 rounded-full flex items-center justify-center text-white shadow-sm ${!isOpen ? 'bg-gray-400' : ''}`}
                                                      style={{ backgroundColor: isOpen ? BUSINESS.colors.primary : undefined }}>
                                                    <i data-lucide="plus" className="w-4 h-4"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </section>

                        {/* Provas Sociais */}
                        <section className="bg-white p-6 rounded-2xl shadow-lg text-center border-t-4" style={{ borderColor: BUSINESS.colors.primary }}>
                            <h3 className="text-xl font-bold mb-6 flex justify-center items-center gap-2 text-gray-800">
                                <i data-lucide="star" className="fill-yellow-400 text-yellow-400"></i>
                                Quem pede, recomenda!
                                <i data-lucide="star" className="fill-yellow-400 text-yellow-400"></i>
                            </h3>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div className="rounded-xl overflow-hidden shadow-inner bg-black aspect-video relative group">
                                    <video controls className="w-full h-full object-cover">
                                        <source src={BUSINESS.socialProof.video} type="video/mp4" />
                                        Seu navegador n√£o suporta v√≠deo.
                                    </video>
                                </div>
                                <div className="rounded-xl overflow-hidden shadow-inner aspect-video">
                                    <img 
                                        src={BUSINESS.socialProof.photo} 
                                        onError={handleImageError}
                                        className="w-full h-full object-cover hover:scale-105 transition duration-700"
                                        alt="Cliente feliz"
                                    />
                                </div>
                            </div>
                        </section>
                    </main>

                    {/* --- PRODUCT MODAL (POP-UP) --- */}
                    {activeProduct && (
                        <div className="fixed inset-0 z-[70] flex items-center justify-center p-4">
                            <div className="absolute inset-0 bg-black/70 backdrop-blur-sm animate-fade-in" onClick={closeProductModal}></div>
                            
                            <div className="relative bg-white w-full max-w-md max-h-[90vh] rounded-2xl shadow-2xl overflow-y-auto flex flex-col animate-fade-in no-scrollbar">
                                {/* Header Modal */}
                                <div className="relative h-48 flex-shrink-0">
                                    <img 
                                        src={activeProduct.image} 
                                        onError={handleImageError}
                                        className="w-full h-full object-cover" 
                                    />
                                    <button onClick={closeProductModal} className="absolute top-4 right-4 bg-white/90 p-2 rounded-full shadow-lg text-gray-800 hover:bg-white transition">
                                        <i data-lucide="x" className="w-5 h-5"></i>
                                    </button>
                                </div>

                                <div className="p-6 space-y-6">
                                    {/* Info */}
                                    <div>
                                        <h3 className="text-2xl font-bold text-gray-900 leading-tight">{activeProduct.name}</h3>
                                        <p className="text-gray-500 mt-1">{activeProduct.desc}</p>
                                        <p className="text-xl font-bold mt-2" style={{ color: BUSINESS.colors.primary }}>
                                            R$ {activeProduct.price.toFixed(2)}
                                        </p>
                                    </div>

                                    {/* Adicionais (Apenas se for comida/destaque) */}
                                    {activeProduct.category === 'Destaques' && (
                                        <div>
                                            <h4 className="font-bold text-gray-800 mb-3 flex items-center gap-2">
                                                <i data-lucide="plus" className="w-4 h-4"></i> Adicionais
                                            </h4>
                                            <div className="space-y-2">
                                                {EXTRAS_OPTIONS.map(extra => (
                                                    <label key={extra.id} className="flex items-center justify-between p-3 border border-gray-100 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                                        <div className="flex items-center gap-3">
                                                            <div className={`w-5 h-5 rounded border flex items-center justify-center transition ${modalExtras.includes(extra.id) ? 'bg-green-500 border-green-500 text-white' : 'border-gray-300 bg-white'}`}>
                                                                {modalExtras.includes(extra.id) && <i data-lucide="check-circle-2" className="w-4 h-4"></i>}
                                                            </div>
                                                            <input type="checkbox" className="hidden" 
                                                                checked={modalExtras.includes(extra.id)}
                                                                onChange={() => toggleExtra(extra.id)}
                                                            />
                                                            <span className="text-gray-700">{extra.name}</span>
                                                        </div>
                                                        <span className="font-semibold text-gray-600">+ R$ {extra.price.toFixed(2)}</span>
                                                    </label>
                                                ))}
                                            </div>
                                        </div>
                                    )}

                                    {/* Observa√ß√£o */}
                                    <div>
                                        <h4 className="font-bold text-gray-800 mb-2 flex items-center gap-2">
                                            <i data-lucide="edit-3" className="w-4 h-4"></i> Observa√ß√µes
                                        </h4>
                                        <textarea 
                                            placeholder="Ex: Tirar a cebola, ponto da carne..."
                                            className="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none h-24 text-sm"
                                            value={modalObs}
                                            onChange={(e) => setModalObs(e.target.value)}
                                        ></textarea>
                                    </div>

                                    {/* Footer Actions */}
                                    <div className="pt-4 border-t border-gray-100 flex items-center gap-4">
                                        <div className="flex items-center border border-gray-200 rounded-lg h-12">
                                            <button 
                                                onClick={() => setModalQty(Math.max(1, modalQty - 1))}
                                                className="w-10 h-full flex items-center justify-center text-gray-500 hover:bg-gray-100 rounded-l-lg"
                                            >
                                                <i data-lucide="minus" className="w-4 h-4"></i>
                                            </button>
                                            <span className="w-10 text-center font-bold text-lg">{modalQty}</span>
                                            <button 
                                                onClick={() => setModalQty(modalQty + 1)}
                                                className="w-10 h-full flex items-center justify-center text-gray-500 hover:bg-gray-100 rounded-r-lg"
                                            >
                                                <i data-lucide="plus" className="w-4 h-4"></i>
                                            </button>
                                        </div>
                                        
                                        <button 
                                            onClick={confirmAddToOrder}
                                            className="flex-1 h-12 rounded-lg text-white font-bold shadow-lg active:scale-95 transition flex justify-center items-center gap-2"
                                            style={{ backgroundColor: BUSINESS.colors.primary }}
                                        >
                                            Adicionar ‚Ä¢ R$ {currentModalPrice.toFixed(2)}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* --- CART SIDEBAR / DRAWER --- */}
                    {isCartOpen && (
                        <div className="fixed inset-0 z-[60] flex justify-end">
                            <div className="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity" onClick={() => setIsCartOpen(false)}></div>
                            
                            <div className="relative w-full max-w-md bg-white h-full shadow-2xl flex flex-col animate-slide-in">
                                <div className="p-4 bg-secondary text-white flex justify-between items-center shadow-md" style={{ backgroundColor: BUSINESS.colors.secondary }}>
                                    <h2 className="text-lg font-bold flex items-center gap-2">
                                        <i data-lucide="shopping-cart" className="w-5 h-5"></i>
                                        Seu Pedido
                                    </h2>
                                    <button onClick={() => setIsCartOpen(false)} className="p-2 hover:bg-white/20 rounded-full transition">
                                        <i data-lucide="x" className="w-5 h-5"></i>
                                    </button>
                                </div>

                                <div className="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50">
                                    {cart.length === 0 ? (
                                        <div className="h-full flex flex-col items-center justify-center text-gray-400 opacity-70">
                                            <i data-lucide="shopping-cart" className="w-16 h-16 mb-4 text-gray-300"></i>
                                            <p>Seu carrinho est√° vazio.</p>
                                        </div>
                                    ) : (
                                        cart.map((item, index) => (
                                            <div key={item.cartId} className="bg-white p-3 rounded-lg shadow-sm border border-gray-100">
                                                <div className="flex gap-3">
                                                    <div className="w-16 h-16 bg-gray-100 rounded-md overflow-hidden flex-shrink-0">
                                                        <img src={item.product.image} onError={handleImageError} className="w-full h-full object-cover" />
                                                    </div>
                                                    <div className="flex-1">
                                                        <div className="flex justify-between items-start">
                                                            <h4 className="font-bold text-sm text-gray-800 line-clamp-1">{item.product.name}</h4>
                                                            <span className="font-bold text-sm" style={{ color: BUSINESS.colors.primary }}>
                                                                R$ {item.totalPrice.toFixed(2)}
                                                            </span>
                                                        </div>
                                                        
                                                        <div className="text-xs text-gray-500 mt-1 space-y-1">
                                                            {item.extras.map(ex => (
                                                                <div key={ex.id} className="flex items-center gap-1">
                                                                    <i data-lucide="plus" className="w-3 h-3 text-green-600"></i> {ex.name}
                                                                </div>
                                                            ))}
                                                            {item.obs && (
                                                                <div className="text-amber-700 bg-amber-50 p-1 rounded italic">
                                                                    "{item.obs}"
                                                                </div>
                                                            )}
                                                        </div>

                                                        <div className="flex justify-between items-center mt-3">
                                                            <span className="text-xs font-bold text-gray-400 bg-gray-100 px-2 py-1 rounded">Qtd: {item.qty}</span>
                                                            <button 
                                                                onClick={() => removeFromCart(item.cartId)} 
                                                                className="text-red-500 hover:text-red-700 p-1"
                                                            >
                                                                <i data-lucide="trash-2" className="w-4 h-4"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        ))
                                    )}
                                </div>

                                <div className="p-6 bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]">
                                    {/* Input de Endere√ßo */}
                                    <div className="mb-4">
                                        <label className="block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2">
                                            <i data-lucide="map-pin" className="w-4 h-4"></i>
                                            Endere√ßo de Entrega <span className="text-red-500">*</span>
                                        </label>
                                        <textarea
                                            value={address}
                                            onChange={(e) => setAddress(e.target.value)}
                                            placeholder="Digite rua, n√∫mero, bairro e refer√™ncia..."
                                            className="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none h-20 text-sm"
                                        ></textarea>
                                    </div>

                                    <div className="flex justify-between items-center mb-6 text-xl font-bold text-gray-800">
                                        <span>Total</span>
                                        <span style={{ color: BUSINESS.colors.primary }}>R$ {subTotal.toFixed(2)}</span>
                                    </div>
                                    <button 
                                        onClick={handleCheckout}
                                        disabled={cart.length === 0 || !address.trim()}
                                        className={`w-full py-4 rounded-xl text-white font-bold text-lg shadow-lg flex justify-center items-center gap-3 transition transform active:scale-95 ${(!address.trim() || cart.length === 0) ? 'opacity-50 cursor-not-allowed grayscale' : 'hover:opacity-90'}`}
                                        style={{ backgroundColor: (!address.trim() || cart.length === 0) ? '#9ca3af' : '#25D366' }}
                                    >
                                        <i data-lucide="phone" className="w-5 h-5 fill-current"></i>
                                        Enviar Pedido no Zap
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
